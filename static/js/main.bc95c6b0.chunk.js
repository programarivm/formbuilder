(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{266:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),i=n(12),o=n.n(i),l=n(3),s=n(303),j=n(316),u=n(317),b=n(318),d=n(70),O=n(324),p=n(312),h=n(319),m=n(320),E=n(15),f={ADD:"ADD_INPUT",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_INPUT",DELETE:"DELETE_INPUT",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_INPUT",SET:"SET_INPUT"},x={ADD:"ADD_SELECT",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_SELECT",DELETE:"DELETE_SELECT",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_SELECT",SET:"SET_SELECT"},D={ADD:"ADD_TEXTAREA",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_TEXTAREA",DELETE:"DELETE_TEXTAREA",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_TEXTAREA",SET:"SET_TEXTAREA"},A=n(269),y=n(300),T=n(301),_=n(302),g=n(160),v=n.n(g),L=n(161),S=n.n(L),C=n(162),I=n.n(C),N=function(){var e=Object(E.b)();return Object(r.jsxs)("div",{children:[Object(r.jsx)(A.a,{button:!0,children:Object(r.jsx)(y.a,{primary:"About"})}),Object(r.jsx)(T.a,{}),Object(r.jsxs)(A.a,{button:!0,onClick:function(){return e({type:f.OPEN_ADD_DIALOG})},children:[Object(r.jsx)(_.a,{children:Object(r.jsx)(v.a,{})}),Object(r.jsx)(y.a,{primary:"Input"})]}),Object(r.jsxs)(A.a,{button:!0,onClick:function(){return e({type:x.OPEN_ADD_DIALOG})},children:[Object(r.jsx)(_.a,{children:Object(r.jsx)(S.a,{})}),Object(r.jsx)(y.a,{primary:"Select"})]}),Object(r.jsxs)(A.a,{button:!0,onClick:function(){return e({type:D.OPEN_ADD_DIALOG})},children:[Object(r.jsx)(_.a,{children:Object(r.jsx)(I.a,{})}),Object(r.jsx)(y.a,{primary:"Textarea"})]})]})},w=n(18),P={INPUT:"INPUT",OPTION:"OPTION",SELECT:"SELECT",TEXTAREA:"TEXTAREA"},R=n(7),G=n(34),U=n(322),X=n(323),k={CARD:"CARD"},B={INCREASE:"INCREASE_COUNTER",DECREASE:"DECREASE_COUNTER"},W=function(){return{type:B.INCREASE}},M=n(305),q=n(306),z=n(307),F=n(308),H=n(304),J=n(105).Parser,V=Object(s.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& input":{width:"100%"}}}})),K=function(e){var t=e.elem,n=V(),a=(new J).parse(t.html);return Object(r.jsx)(H.a,{children:Object(r.jsx)("div",{className:n.formGroup,children:a})})},Q=n(105).Parser,Y=Object(s.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& select":{width:"100%"}}}})),Z=function(e){var t=e.elem,n=Y(),a=(new Q).parse(t.html);return Object(r.jsx)(H.a,{children:Object(r.jsx)("div",{className:n.formGroup,children:a})})},$=n(105).Parser,ee=Object(s.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& textarea":{width:"100%"}}}})),te=function(e){var t=e.elem,n=ee(),a=(new $).parse(t.html);return Object(r.jsx)(H.a,{children:Object(r.jsx)("div",{className:n.formGroup,children:a})})},ne={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},re=function(e){var t=e.index,n=e.elem,c=e.moveCard,i=Object(E.b)(),o=Object(a.useRef)(null),l=Object(U.a)({accept:k.CARD,hover:function(e,n){if(o.current){var r=e.index,a=t;if(r!==a){var i=o.current.getBoundingClientRect(),l=(i.bottom-i.top)/2,s=n.getClientOffset().y-i.top;r<a&&s<l||r>a&&s>l||(c(r,a),e.index=a)}}}}),s=Object(G.a)(l,2)[1],j=Object(X.a)({item:{type:k.CARD,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(G.a)(j,2),b=u[0].isDragging?0:1;(0,u[1])(s(o));var d=function(e,t){switch(e.preventDefault(),t.type){case P.INPUT:i((n=t.order,{type:f.DELETE,payload:n}));break;case P.TEXTAREA:i(function(e){return{type:D.DELETE,payload:e}}(t.order));break;case P.SELECT:i(function(e){return{type:x.DELETE,payload:e}}(t.order))}var n;i({type:B.DECREASE})};return Object(r.jsx)(M.a,{ref:o,style:Object(R.a)(Object(R.a)({},ne),{},{opacity:b}),children:Object(r.jsxs)(q.a,{children:[function(e){switch(e.type){case P.INPUT:return Object(r.jsx)(K,{elem:e});case P.SELECT:return Object(r.jsx)(Z,{elem:e});case P.TEXTAREA:return Object(r.jsx)(te,{elem:e})}}(n),Object(r.jsx)(z.a,{children:Object(r.jsx)(F.a,{size:"small",color:"primary",onClick:function(e){return d(e,n)},children:"Delete"})})]})})};function ae(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e})),n=[].concat(Object(w.a)(t.input.items),Object(w.a)(t.select.items),Object(w.a)(t.textarea.items)).sort((function(e,t){return e.order-t.order})).map((function(e,t){return e.order=t,e})),a=function(t,r){var a;!function(e,t,n){e.map((function(e){return e.order===n?e.order=t:e.order===t&&(e.order=n),e})).sort((function(e,t){return e.order-t.order}))}(n,t,r),e((a={items:n.filter((function(e){return e.type===P.INPUT}))},{type:f.SET,payload:a})),e(function(e){return{type:x.SET,payload:e}}({items:n.filter((function(e){return e.type===P.SELECT}))})),e(function(e){return{type:D.SET,payload:e}}({items:n.filter((function(e){return e.type===P.TEXTAREA}))}))};return Object(r.jsx)("div",{children:n.map((function(e,t){return function(e,t){return Object(r.jsx)(re,{index:e.order,elem:e,moveCard:a},t)}(e,t)}))})}var ce=n(41),ie={DATE:"date",EMAIL:"email",NUMBER:"number",PASSWORD:"password",TEXT:"text",TIME:"time",URL:"url"},oe=n(309),le=n(310),se=n(311),je=n(121),ue=n(275),be=n(313),de=n(314),Oe=n(315);function pe(){var e={label:null,placeholder:"",type:P.INPUT,subtype:ie.TEXT},t=Object(a.useState)(e),n=Object(G.a)(t,2),c=n[0],i=n[1],o=Object(E.c)((function(e){return e.counter.count})),l=Object(E.c)((function(e){return e.input.open})),s=Object(E.b)(),j=function(e){i(Object(R.a)(Object(R.a)({},c),{},Object(ce.a)({},e.target.name,e.target.value)))};return Object(r.jsx)("div",{children:Object(r.jsxs)(oe.a,{open:l,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(le.a,{id:"form-dialog-title",children:"Input"}),Object(r.jsx)(se.a,{children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Object(R.a)(Object(R.a)({},c),{},{order:o,html:"<label>".concat(c.label,'</label><input type="').concat(c.subtype,'" placeholder="').concat(c.placeholder,'" />')});s({type:f.ADD,payload:n}),s(W()),i(e)},children:[Object(r.jsx)(je.a,{children:"Type"}),Object(r.jsxs)(ue.a,{value:c.subtype,name:"subtype",fullWidth:!0,required:!0,onChange:j,children:[Object(r.jsx)(be.a,{value:"",disabled:!0,children:"Select a type"}),Object.keys(ie).map((function(e,t){return Object(r.jsx)(be.a,{value:ie[e],children:e.charAt(0)+e.substring(1).toLowerCase()},t)}))]}),Object(r.jsx)(de.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:j}),Object(r.jsx)(de.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:j}),Object(r.jsxs)(Oe.a,{children:[Object(r.jsx)(F.a,{color:"primary",type:"submit",children:"Add"}),Object(r.jsx)(F.a,{onClick:function(){return s({type:f.CLOSE_ADD_DIALOG})},color:"primary",children:"Cancel"})]})]})})]})})}var he=n(163),me=n.n(he);function Ee(){var e={label:null,placeholder:"Select an option",options:[],type:P.SELECT},t=Object(a.useState)(e),n=Object(G.a)(t,2),c=n[0],i=n[1],o=Object(E.c)((function(e){return e.counter.count})),l=Object(E.c)((function(e){return e.select.open})),s=Object(E.b)(),j=function(e){i(Object(R.a)(Object(R.a)({},c),{},Object(ce.a)({},e.target.name,e.target.value)))};return Object(r.jsx)("div",{children:Object(r.jsxs)(oe.a,{open:l,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(le.a,{id:"form-dialog-title",children:"Select"}),Object(r.jsx)(se.a,{children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=c.options.map((function(e){return"<option>".concat(e,"</option>")})).join(""),r=Object(R.a)(Object(R.a)({},c),{},{order:o,html:"<label>".concat(c.label,"</label><select><option disabled selected>").concat(c.placeholder,"</option>").concat(n,"</select>")});s({type:x.ADD,payload:r}),s(W()),i(e)},children:[Object(r.jsx)(de.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:j}),Object(r.jsx)(de.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:j}),Object(r.jsx)(me.a,{label:"Options",fullWidth:!0,required:!(c.options.length>0),value:c.options,onAdd:function(e){return function(e){i(Object(R.a)(Object(R.a)({},c),{},{options:[].concat(Object(w.a)(c.options),[e])}))}(e)},onDelete:function(e,t){return function(e){i(Object(R.a)(Object(R.a)({},c),{},{options:c.options.filter((function(t){return t!==e}))}))}(e)}}),Object(r.jsxs)(Oe.a,{children:[Object(r.jsx)(F.a,{color:"primary",type:"submit",children:"Add"}),Object(r.jsx)(F.a,{onClick:function(t){t.preventDefault(),s({type:x.CLOSE_ADD_DIALOG}),i(e)},color:"primary",children:"Cancel"})]})]})})]})})}function fe(){var e={label:null,placeholder:"",type:P.TEXTAREA},t=Object(a.useState)(e),n=Object(G.a)(t,2),c=n[0],i=n[1],o=Object(E.c)((function(e){return e.counter.count})),l=Object(E.c)((function(e){return e.textarea.open})),s=Object(E.b)(),j=function(e){i(Object(R.a)(Object(R.a)({},c),{},Object(ce.a)({},e.target.name,e.target.value)))};return Object(r.jsx)("div",{children:Object(r.jsxs)(oe.a,{open:l,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(le.a,{id:"form-dialog-title",children:"Textarea"}),Object(r.jsx)(se.a,{children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Object(R.a)(Object(R.a)({},c),{},{order:o,html:"<label>".concat(c.label,'</label><textarea placeholder="').concat(c.placeholder,'"></textarea>')});s({type:D.ADD,payload:n}),s(W()),i(e)},children:[Object(r.jsx)(de.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:j}),Object(r.jsx)(de.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:j}),Object(r.jsxs)(Oe.a,{children:[Object(r.jsx)(F.a,{color:"primary",type:"submit",children:"Add"}),Object(r.jsx)(F.a,{onClick:function(){return s({type:D.CLOSE_ADD_DIALOG})},color:"primary",children:"Cancel"})]})]})})]})})}var xe=n(125),De=n(164),Ae=n(165),ye=n.n(Ae),Te=function e(t,n){for(var r,a=new Array(1+n++).join("  "),c=new Array(n-1).join("  "),i=0;i<t.children.length;i++)r=document.createTextNode("\n"+a),t.insertBefore(r,t.children[i]),e(t.children[i],n),t.lastElementChild===t.children[i]&&(r=document.createTextNode("\n"+c),t.appendChild(r));return t},_e=Object(s.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),ge=function(){var e=_e(),t=Object(E.c)((function(e){return e})),n=[].concat(Object(w.a)(t.input.items),Object(w.a)(t.select.items),Object(w.a)(t.textarea.items)).sort((function(e,t){return e.order-t.order})).map((function(e,t){return e.order=t,e})).map((function(e){return e.html})).join(""),a=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),Te(t,0).innerHTML}("<form>".concat(n,"</form>"));return n?Object(r.jsx)("div",{children:Object(r.jsxs)(xe.a,{className:e.paper,children:[Object(r.jsx)(De.CopyToClipboard,{text:a,children:Object(r.jsx)(F.a,{color:"default",size:"small",startIcon:Object(r.jsx)(ye.a,{}),children:"Copy text"})}),Object(r.jsx)("pre",{children:a})]})}):null},ve=n(321),Le=n(166),Se=Object(s.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function Ce(){var e=Se();return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(j.a,{}),Object(r.jsx)(u.a,{position:"absolute",className:Object(l.default)(e.appBar,e.appBarShift),children:Object(r.jsx)(b.a,{className:e.toolbar,children:Object(r.jsx)(d.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"HTML Form Builder"})})}),Object(r.jsx)(O.a,{variant:"permanent",classes:{paper:Object(l.default)(e.drawerPaper)},children:Object(r.jsx)(p.a,{children:Object(r.jsx)(N,{})})}),Object(r.jsxs)("main",{className:e.content,children:[Object(r.jsx)("div",{className:e.appBarSpacer}),Object(r.jsx)(h.a,{maxWidth:"lg",className:e.container,children:Object(r.jsxs)(m.a,{container:!0,spacing:3,children:[Object(r.jsx)(m.a,{item:!0,xs:12,sm:12,md:6,children:Object(r.jsx)(ve.a,{backend:Le.a,children:Object(r.jsx)(ae,{})})}),Object(r.jsx)(m.a,{item:!0,xs:12,sm:12,md:6,children:Object(r.jsx)(ge,{})})]})})]}),Object(r.jsx)(pe,{}),Object(r.jsx)(Ee,{}),Object(r.jsx)(fe,{})]})}var Ie=n(38),Ne={count:0},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.INCREASE:return Object(R.a)(Object(R.a)({},e),{},{count:e.count+1});case B.DECREASE:return Object(R.a)(Object(R.a)({},e),{},{count:e.count-1});default:return e}},Pe={open:!1,items:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.ADD:return Object(R.a)(Object(R.a)({},e),{},{open:!1,items:[].concat(Object(w.a)(e.items),[t.payload])});case f.CLOSE_ADD_DIALOG:return Object(R.a)(Object(R.a)({},e),{},{open:!1});case f.DELETE:return Object(R.a)(Object(R.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case f.OPEN_ADD_DIALOG:return Object(R.a)(Object(R.a)({},e),{},{open:!0});case f.SET:return Object(R.a)(Object(R.a)({},e),{},{items:t.payload.items});default:return e}},Ge={open:!1,items:[]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.ADD:return Object(R.a)(Object(R.a)({},e),{},{open:!1,items:[].concat(Object(w.a)(e.items),[t.payload])});case x.CLOSE_ADD_DIALOG:return Object(R.a)(Object(R.a)({},e),{},{open:!1});case x.DELETE:return Object(R.a)(Object(R.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case x.OPEN_ADD_DIALOG:return Object(R.a)(Object(R.a)({},e),{},{open:!0});case x.SET:return Object(R.a)(Object(R.a)({},e),{},{items:t.payload.items});default:return e}},Xe={open:!1,items:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.ADD:return Object(R.a)(Object(R.a)({},e),{},{open:!1,items:[].concat(Object(w.a)(e.items),[t.payload])});case D.CLOSE_ADD_DIALOG:return Object(R.a)(Object(R.a)({},e),{},{open:!1});case D.DELETE:return Object(R.a)(Object(R.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case D.OPEN_ADD_DIALOG:return Object(R.a)(Object(R.a)({},e),{},{open:!0});case D.SET:return Object(R.a)(Object(R.a)({},e),{},{items:t.payload.items});default:return e}},Be=Object(Ie.b)({counter:we,input:Re,select:Ue,textarea:ke}),We=Object(Ie.c)(Be,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(r.jsx)(E.a,{store:We,children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Ce,{})})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.bc95c6b0.chunk.js.map