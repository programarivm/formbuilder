(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{263:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(13),o=n.n(i),l=n(29),s=n(30),j=n(7),d=n(3),b=n(301),u=n(314),O=n(315),p=n(316),h=n(317),E=n(71),m=n(324),f=n(318),D=n(310),x=n(319),A=n(320),y=n(126),T=n(164),g=n.n(T),_=n(165),v=n.n(_),L=n(15),S={ADD:"ADD_INPUT",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_INPUT",DELETE:"DELETE_INPUT",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_INPUT",SET:"SET_INPUT"},C={ADD:"ADD_SELECT",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_SELECT",DELETE:"DELETE_SELECT",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_SELECT",SET:"SET_SELECT"},I={ADD:"ADD_TEXTAREA",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_TEXTAREA",DELETE:"DELETE_TEXTAREA",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_TEXTAREA",SET:"SET_TEXTAREA"},N=n(266),w=n(299),P=n(300),R=n(160),G=n.n(R),k=n(161),X=n.n(k),U=n(162),B=n.n(U),W=function(){var e=Object(L.b)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(N.a,{button:!0,onClick:function(){return e({type:S.OPEN_ADD_DIALOG})},children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(P.a,{primary:"Input"})]}),Object(a.jsxs)(N.a,{button:!0,onClick:function(){return e({type:C.OPEN_ADD_DIALOG})},children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(P.a,{primary:"Select"})]}),Object(a.jsxs)(N.a,{button:!0,onClick:function(){return e({type:I.OPEN_ADD_DIALOG})},children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(P.a,{primary:"Textarea"})]})]})},M=n(27),q={INPUT:"INPUT",OPTION:"OPTION",SELECT:"SELECT",TEXTAREA:"TEXTAREA"},H=n(322),z=n(323),F={CARD:"CARD"},J={INCREASE:"INCREASE_COUNTER",DECREASE:"DECREASE_COUNTER"},V=function(){return{type:J.INCREASE}},K=n(303),Q=n(304),Y=n(305),Z=n(306),$=n(302),ee=n(78).Parser,te=Object(b.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& input":{width:"100%"}}}})),ne=function(e){var t=e.elem,n=te(),r=(new ee).parse(t.html);return Object(a.jsx)($.a,{children:Object(a.jsx)("div",{className:n.formGroup,children:r})})},ae=n(78).Parser,re=Object(b.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& select":{width:"100%"}}}})),ce=function(e){var t=e.elem,n=re(),r=(new ae).parse(t.html);return Object(a.jsx)($.a,{children:Object(a.jsx)("div",{className:n.formGroup,children:r})})},ie=n(78).Parser,oe=Object(b.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& textarea":{width:"100%"}}}})),le=function(e){var t=e.elem,n=oe(),r=(new ie).parse(t.html);return Object(a.jsx)($.a,{children:Object(a.jsx)("div",{className:n.formGroup,children:r})})},se={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},je=function(e){var t=e.index,n=e.elem,c=e.moveCard,i=Object(L.b)(),o=Object(r.useRef)(null),s=Object(H.a)({accept:F.CARD,hover:function(e,n){if(o.current){var a=e.index,r=t;if(a!==r){var i=o.current.getBoundingClientRect(),l=(i.bottom-i.top)/2,s=n.getClientOffset().y-i.top;a<r&&s<l||a>r&&s>l||(c(a,r),e.index=r)}}}}),d=Object(l.a)(s,2)[1],b=Object(z.a)({item:{type:F.CARD,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(l.a)(b,2),O=u[0].isDragging?0:1;(0,u[1])(d(o));var p=function(e,t){switch(e.preventDefault(),t.type){case q.INPUT:i((n=t.order,{type:S.DELETE,payload:n}));break;case q.TEXTAREA:i(function(e){return{type:I.DELETE,payload:e}}(t.order));break;case q.SELECT:i(function(e){return{type:C.DELETE,payload:e}}(t.order))}var n;i({type:J.DECREASE})};return Object(a.jsx)(K.a,{ref:o,style:Object(j.a)(Object(j.a)({},se),{},{opacity:O}),children:Object(a.jsxs)(Q.a,{children:[function(e){switch(e.type){case q.INPUT:return Object(a.jsx)(ne,{elem:e});case q.SELECT:return Object(a.jsx)(ce,{elem:e});case q.TEXTAREA:return Object(a.jsx)(le,{elem:e})}}(n),Object(a.jsxs)(Y.a,{children:[Object(a.jsx)(Z.a,{size:"small",color:"primary",onClick:function(e){return e.preventDefault(),void console.log("TODO ...")},children:"Edit"}),Object(a.jsx)(Z.a,{size:"small",color:"primary",onClick:function(e){return p(e,n)},children:"Delete"})]})]})})};function de(){var e=Object(L.b)(),t=Object(L.c)((function(e){return e})),n=[].concat(Object(M.a)(t.input.items),Object(M.a)(t.select.items),Object(M.a)(t.textarea.items)).sort((function(e,t){return e.order-t.order})).map((function(e,t){return e.order=t,e})),r=function(t,a){var r;!function(e,t,n){e.map((function(e){return e.order===n?e.order=t:e.order===t&&(e.order=n),e})).sort((function(e,t){return e.order-t.order}))}(n,t,a),e((r={items:n.filter((function(e){return e.type===q.INPUT}))},{type:S.SET,payload:r})),e(function(e){return{type:C.SET,payload:e}}({items:n.filter((function(e){return e.type===q.SELECT}))})),e(function(e){return{type:I.SET,payload:e}}({items:n.filter((function(e){return e.type===q.TEXTAREA}))}))};return Object(a.jsx)("div",{children:n.map((function(e,t){return function(e,t){return Object(a.jsx)(je,{index:e.order,elem:e,moveCard:r},t)}(e,t)}))})}var be={DATE:"date",EMAIL:"email",NUMBER:"number",PASSWORD:"password",TEXT:"text",TIME:"time",URL:"url"},ue=n(307),Oe=n(308),pe=n(309),he=n(122),Ee=n(272),me=n(311),fe=n(312),De=n(313);function xe(){var e=Object(r.useState)({label:null,placeholder:"",type:q.INPUT,subtype:be.TEXT}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(L.c)((function(e){return e.counter.count})),o=Object(L.c)((function(e){return e.input.open})),d=Object(L.b)(),b=function(e){c(Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{children:Object(a.jsxs)(ue.a,{open:o,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Oe.a,{id:"form-dialog-title",children:"Input"}),Object(a.jsx)(pe.a,{children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(j.a)(Object(j.a)({},n),{},{order:i,html:"<label>".concat(n.label,'</label><input type="').concat(n.subtype,'" placeholder="').concat(n.placeholder,'" />')});d({type:S.ADD,payload:t}),d(V())},children:[Object(a.jsx)(he.a,{children:"Type"}),Object(a.jsxs)(Ee.a,{value:n.subtype,name:"subtype",fullWidth:!0,required:!0,onChange:b,children:[Object(a.jsx)(me.a,{value:"",disabled:!0,children:"Select a type"}),Object.keys(be).map((function(e,t){return Object(a.jsx)(me.a,{value:be[e],children:e.charAt(0)+e.substring(1).toLowerCase()},t)}))]}),Object(a.jsx)(fe.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:b}),Object(a.jsx)(fe.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:b}),Object(a.jsxs)(De.a,{children:[Object(a.jsx)(Z.a,{color:"primary",type:"submit",children:"Add"}),Object(a.jsx)(Z.a,{onClick:function(){return d({type:S.CLOSE_ADD_DIALOG})},color:"primary",children:"Cancel"})]})]})})]})})}var Ae=n(163),ye=n.n(Ae);function Te(){var e={label:null,placeholder:"Select an option",options:[],type:q.SELECT},t=Object(r.useState)(e),n=Object(l.a)(t,2),c=n[0],i=n[1],o=Object(L.c)((function(e){return e.counter.count})),d=Object(L.c)((function(e){return e.select.open})),b=Object(L.b)(),u=function(e){i(Object(j.a)(Object(j.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{children:Object(a.jsxs)(ue.a,{open:d,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Oe.a,{id:"form-dialog-title",children:"Select"}),Object(a.jsx)(pe.a,{children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=c.options.map((function(e){return"<option>".concat(e,"</option>")})).join(""),a=Object(j.a)(Object(j.a)({},c),{},{order:o,html:"<label>".concat(c.label,"</label>\n        <select><option disabled selected>").concat(c.placeholder,"</option>").concat(n,"</select>")});b({type:C.ADD,payload:a}),b(V()),i(e)},children:[Object(a.jsx)(fe.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:u}),Object(a.jsx)(fe.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:u}),Object(a.jsx)(ye.a,{label:"Options",fullWidth:!0,required:!(c.options.length>0),value:c.options,onAdd:function(e){return function(e){i(Object(j.a)(Object(j.a)({},c),{},{options:[].concat(Object(M.a)(c.options),[e])}))}(e)},onDelete:function(e,t){return function(e){i(Object(j.a)(Object(j.a)({},c),{},{options:c.options.filter((function(t){return t!==e}))}))}(e)}}),Object(a.jsxs)(De.a,{children:[Object(a.jsx)(Z.a,{color:"primary",type:"submit",children:"Add"}),Object(a.jsx)(Z.a,{onClick:function(t){t.preventDefault(),b({type:C.CLOSE_ADD_DIALOG}),i(e)},color:"primary",children:"Cancel"})]})]})})]})})}function ge(){var e=Object(r.useState)({label:null,placeholder:"",type:q.TEXTAREA}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(L.c)((function(e){return e.counter.count})),o=Object(L.c)((function(e){return e.textarea.open})),d=Object(L.b)(),b=function(e){c(Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{children:Object(a.jsxs)(ue.a,{open:o,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Oe.a,{id:"form-dialog-title",children:"Textarea"}),Object(a.jsx)(pe.a,{children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(j.a)(Object(j.a)({},n),{},{order:i,html:"<label>".concat(n.label,'</label><textarea placeholder="').concat(n.placeholder,'" />')});d({type:I.ADD,payload:t}),d(V())},children:[Object(a.jsx)(fe.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:b}),Object(a.jsx)(fe.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:b}),Object(a.jsxs)(De.a,{children:[Object(a.jsx)(Z.a,{color:"primary",type:"submit",children:"Add"}),Object(a.jsx)(Z.a,{onClick:function(){return d({type:I.CLOSE_ADD_DIALOG})},color:"primary",children:"Cancel"})]})]})})]})})}var _e=n(321),ve=n(166),Le=n(78).Parser,Se=Object(b.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Ce(){var e=Se(),t=c.a.useState(!0),n=Object(l.a)(t,2),r=n[0],i=n[1],o=(new Le).parse("<div><h1>To do</h1><p>Display the entire HTML form here!</p></div>");return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(O.a,{position:"absolute",className:Object(d.default)(e.appBar,r&&e.appBarShift),children:Object(a.jsxs)(p.a,{className:e.toolbar,children:[Object(a.jsx)(h.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(d.default)(e.menuButton,r&&e.menuButtonHidden),children:Object(a.jsx)(g.a,{})}),Object(a.jsx)(E.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"HTML Form Builder"})]})}),Object(a.jsxs)(m.a,{variant:"permanent",classes:{paper:Object(d.default)(e.drawerPaper,!r&&e.drawerPaperClose)},open:r,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(h.a,{onClick:function(){i(!1)},children:Object(a.jsx)(v.a,{})})}),Object(a.jsx)(f.a,{}),Object(a.jsx)(D.a,{children:Object(a.jsx)(W,{})})]}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsx)(x.a,{maxWidth:"lg",className:e.container,children:Object(a.jsxs)(A.a,{container:!0,spacing:3,children:[Object(a.jsx)(A.a,{item:!0,xs:6,children:Object(a.jsx)(_e.a,{backend:ve.a,children:Object(a.jsx)(de,{})})}),Object(a.jsx)(A.a,{item:!0,xs:6,children:Object(a.jsx)(y.a,{className:e.paper,children:o})})]})})]}),Object(a.jsx)(xe,{}),Object(a.jsx)(Te,{}),Object(a.jsx)(ge,{})]})}var Ie=n(38),Ne={count:0},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.INCREASE:return Object(j.a)(Object(j.a)({},e),{},{count:e.count+1});case J.DECREASE:return Object(j.a)(Object(j.a)({},e),{},{count:e.count-1});default:return e}},Pe={open:!1,items:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.ADD:return Object(j.a)(Object(j.a)({},e),{},{open:!1,items:[].concat(Object(M.a)(e.items),[t.payload])});case S.CLOSE_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!1});case S.DELETE:return Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case S.OPEN_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!0});case S.SET:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload.items});default:return e}},Ge={open:!1,items:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.ADD:return Object(j.a)(Object(j.a)({},e),{},{open:!1,items:[].concat(Object(M.a)(e.items),[t.payload])});case C.CLOSE_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!1});case C.DELETE:return Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case C.OPEN_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!0});case C.SET:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload.items});default:return e}},Xe={open:!1,items:[]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ADD:return Object(j.a)(Object(j.a)({},e),{},{open:!1,items:[].concat(Object(M.a)(e.items),[t.payload])});case I.CLOSE_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!1});case I.DELETE:return Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case I.OPEN_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!0});case I.SET:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload.items});default:return e}},Be=Object(Ie.b)({counter:we,input:Re,select:ke,textarea:Ue}),We=Object(Ie.c)(Be,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(a.jsx)(L.a,{store:We,children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ce,{})})}),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.db77569d.chunk.js.map