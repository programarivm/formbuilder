(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{263:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(13),o=n.n(i),l=n(29),s=n(30),j=n(7),u=n(3),d=n(301),b=n(314),O=n(315),p=n(316),h=n(317),m=n(71),E=n(324),f=n(318),x=n(310),D=n(319),A=n(320),y=n(164),T=n.n(y),g=n(165),v=n.n(g),_=n(15),L={ADD:"ADD_INPUT",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_INPUT",DELETE:"DELETE_INPUT",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_INPUT",SET:"SET_INPUT"},S={ADD:"ADD_SELECT",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_SELECT",DELETE:"DELETE_SELECT",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_SELECT",SET:"SET_SELECT"},C={ADD:"ADD_TEXTAREA",CLOSE_ADD_DIALOG:"CLOSE_ADD_DIALOG_TEXTAREA",DELETE:"DELETE_TEXTAREA",OPEN_ADD_DIALOG:"OPEN_ADD_DIALOG_TEXTAREA",SET:"SET_TEXTAREA"},I=n(266),N=n(299),w=n(300),P=n(160),R=n.n(P),G=n(161),k=n.n(G),X=n(162),B=n.n(X),U=function(){var e=Object(_.b)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(I.a,{button:!0,onClick:function(){return e({type:L.OPEN_ADD_DIALOG})},children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(w.a,{primary:"Input"})]}),Object(a.jsxs)(I.a,{button:!0,onClick:function(){return e({type:S.OPEN_ADD_DIALOG})},children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(k.a,{})}),Object(a.jsx)(w.a,{primary:"Select"})]}),Object(a.jsxs)(I.a,{button:!0,onClick:function(){return e({type:C.OPEN_ADD_DIALOG})},children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(w.a,{primary:"Textarea"})]})]})},W=n(18),M={INPUT:"INPUT",OPTION:"OPTION",SELECT:"SELECT",TEXTAREA:"TEXTAREA"},H=n(322),q=n(323),z={CARD:"CARD"},F={INCREASE:"INCREASE_COUNTER",DECREASE:"DECREASE_COUNTER"},J=function(){return{type:F.INCREASE}},V=n(303),K=n(304),Q=n(305),Y=n(306),Z=n(302),$=n(106).Parser,ee=Object(d.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& input":{width:"100%"}}}})),te=function(e){var t=e.elem,n=ee(),r=(new $).parse(t.html);return Object(a.jsx)(Z.a,{children:Object(a.jsx)("div",{className:n.formGroup,children:r})})},ne=n(106).Parser,ae=Object(d.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& select":{width:"100%"}}}})),re=function(e){var t=e.elem,n=ae(),r=(new ne).parse(t.html);return Object(a.jsx)(Z.a,{children:Object(a.jsx)("div",{className:n.formGroup,children:r})})},ce=n(106).Parser,ie=Object(d.a)((function(e){return{formGroup:{"& label":{width:"100%"},"& textarea":{width:"100%"}}}})),oe=function(e){var t=e.elem,n=ie(),r=(new ce).parse(t.html);return Object(a.jsx)(Z.a,{children:Object(a.jsx)("div",{className:n.formGroup,children:r})})},le={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},se=function(e){var t=e.index,n=e.elem,c=e.moveCard,i=Object(_.b)(),o=Object(r.useRef)(null),s=Object(H.a)({accept:z.CARD,hover:function(e,n){if(o.current){var a=e.index,r=t;if(a!==r){var i=o.current.getBoundingClientRect(),l=(i.bottom-i.top)/2,s=n.getClientOffset().y-i.top;a<r&&s<l||a>r&&s>l||(c(a,r),e.index=r)}}}}),u=Object(l.a)(s,2)[1],d=Object(q.a)({item:{type:z.CARD,index:t},collect:function(e){return{isDragging:e.isDragging()}}}),b=Object(l.a)(d,2),O=b[0].isDragging?0:1;(0,b[1])(u(o));var p=function(e,t){switch(e.preventDefault(),t.type){case M.INPUT:i((n=t.order,{type:L.DELETE,payload:n}));break;case M.TEXTAREA:i(function(e){return{type:C.DELETE,payload:e}}(t.order));break;case M.SELECT:i(function(e){return{type:S.DELETE,payload:e}}(t.order))}var n;i({type:F.DECREASE})};return Object(a.jsx)(V.a,{ref:o,style:Object(j.a)(Object(j.a)({},le),{},{opacity:O}),children:Object(a.jsxs)(K.a,{children:[function(e){switch(e.type){case M.INPUT:return Object(a.jsx)(te,{elem:e});case M.SELECT:return Object(a.jsx)(re,{elem:e});case M.TEXTAREA:return Object(a.jsx)(oe,{elem:e})}}(n),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(Y.a,{size:"small",color:"primary",onClick:function(e){return e.preventDefault(),void console.log("TODO ...")},children:"Edit"}),Object(a.jsx)(Y.a,{size:"small",color:"primary",onClick:function(e){return p(e,n)},children:"Delete"})]})]})})};function je(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e})),n=[].concat(Object(W.a)(t.input.items),Object(W.a)(t.select.items),Object(W.a)(t.textarea.items)).sort((function(e,t){return e.order-t.order})).map((function(e,t){return e.order=t,e})),r=function(t,a){var r;!function(e,t,n){e.map((function(e){return e.order===n?e.order=t:e.order===t&&(e.order=n),e})).sort((function(e,t){return e.order-t.order}))}(n,t,a),e((r={items:n.filter((function(e){return e.type===M.INPUT}))},{type:L.SET,payload:r})),e(function(e){return{type:S.SET,payload:e}}({items:n.filter((function(e){return e.type===M.SELECT}))})),e(function(e){return{type:C.SET,payload:e}}({items:n.filter((function(e){return e.type===M.TEXTAREA}))}))};return Object(a.jsx)("div",{children:n.map((function(e,t){return function(e,t){return Object(a.jsx)(se,{index:e.order,elem:e,moveCard:r},t)}(e,t)}))})}var ue={DATE:"date",EMAIL:"email",NUMBER:"number",PASSWORD:"password",TEXT:"text",TIME:"time",URL:"url"},de=n(307),be=n(308),Oe=n(309),pe=n(122),he=n(272),me=n(311),Ee=n(312),fe=n(313);function xe(){var e={label:null,placeholder:"",type:M.INPUT,subtype:ue.TEXT},t=Object(r.useState)(e),n=Object(l.a)(t,2),c=n[0],i=n[1],o=Object(_.c)((function(e){return e.counter.count})),u=Object(_.c)((function(e){return e.input.open})),d=Object(_.b)(),b=function(e){i(Object(j.a)(Object(j.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{children:Object(a.jsxs)(de.a,{open:u,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(be.a,{id:"form-dialog-title",children:"Input"}),Object(a.jsx)(Oe.a,{children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Object(j.a)(Object(j.a)({},c),{},{order:o,html:"<label>".concat(c.label,'</label><input type="').concat(c.subtype,'" placeholder="').concat(c.placeholder,'" />')});d({type:L.ADD,payload:n}),d(J()),i(e)},children:[Object(a.jsx)(pe.a,{children:"Type"}),Object(a.jsxs)(he.a,{value:c.subtype,name:"subtype",fullWidth:!0,required:!0,onChange:b,children:[Object(a.jsx)(me.a,{value:"",disabled:!0,children:"Select a type"}),Object.keys(ue).map((function(e,t){return Object(a.jsx)(me.a,{value:ue[e],children:e.charAt(0)+e.substring(1).toLowerCase()},t)}))]}),Object(a.jsx)(Ee.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:b}),Object(a.jsx)(Ee.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:b}),Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(Y.a,{color:"primary",type:"submit",children:"Add"}),Object(a.jsx)(Y.a,{onClick:function(){return d({type:L.CLOSE_ADD_DIALOG})},color:"primary",children:"Cancel"})]})]})})]})})}var De=n(163),Ae=n.n(De);function ye(){var e={label:null,placeholder:"Select an option",options:[],type:M.SELECT},t=Object(r.useState)(e),n=Object(l.a)(t,2),c=n[0],i=n[1],o=Object(_.c)((function(e){return e.counter.count})),u=Object(_.c)((function(e){return e.select.open})),d=Object(_.b)(),b=function(e){i(Object(j.a)(Object(j.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{children:Object(a.jsxs)(de.a,{open:u,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(be.a,{id:"form-dialog-title",children:"Select"}),Object(a.jsx)(Oe.a,{children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=c.options.map((function(e){return"<option>".concat(e,"</option>")})).join(""),a=Object(j.a)(Object(j.a)({},c),{},{order:o,html:"<label>".concat(c.label,"</label><select><option disabled selected>").concat(c.placeholder,"</option>").concat(n,"</select>")});d({type:S.ADD,payload:a}),d(J()),i(e)},children:[Object(a.jsx)(Ee.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:b}),Object(a.jsx)(Ee.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:b}),Object(a.jsx)(Ae.a,{label:"Options",fullWidth:!0,required:!(c.options.length>0),value:c.options,onAdd:function(e){return function(e){i(Object(j.a)(Object(j.a)({},c),{},{options:[].concat(Object(W.a)(c.options),[e])}))}(e)},onDelete:function(e,t){return function(e){i(Object(j.a)(Object(j.a)({},c),{},{options:c.options.filter((function(t){return t!==e}))}))}(e)}}),Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(Y.a,{color:"primary",type:"submit",children:"Add"}),Object(a.jsx)(Y.a,{onClick:function(t){t.preventDefault(),d({type:S.CLOSE_ADD_DIALOG}),i(e)},color:"primary",children:"Cancel"})]})]})})]})})}function Te(){var e={label:null,placeholder:"",type:M.TEXTAREA},t=Object(r.useState)(e),n=Object(l.a)(t,2),c=n[0],i=n[1],o=Object(_.c)((function(e){return e.counter.count})),u=Object(_.c)((function(e){return e.textarea.open})),d=Object(_.b)(),b=function(e){i(Object(j.a)(Object(j.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{children:Object(a.jsxs)(de.a,{open:u,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(be.a,{id:"form-dialog-title",children:"Textarea"}),Object(a.jsx)(Oe.a,{children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Object(j.a)(Object(j.a)({},c),{},{order:o,html:"<label>".concat(c.label,'</label><textarea placeholder="').concat(c.placeholder,'"></textarea>')});d({type:C.ADD,payload:n}),d(J()),i(e)},children:[Object(a.jsx)(Ee.a,{autoFocus:!0,margin:"dense",name:"label",label:"Label",type:"text",fullWidth:!0,required:!0,onChange:b}),Object(a.jsx)(Ee.a,{margin:"dense",name:"placeholder",label:"Placeholder",type:"text",fullWidth:!0,onChange:b}),Object(a.jsxs)(fe.a,{children:[Object(a.jsx)(Y.a,{color:"primary",type:"submit",children:"Add"}),Object(a.jsx)(Y.a,{onClick:function(){return d({type:C.CLOSE_ADD_DIALOG})},color:"primary",children:"Cancel"})]})]})})]})})}var ge=n(126),ve=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),_e(t,0).innerHTML},_e=function e(t,n){for(var a,r=new Array(1+n++).join("  "),c=new Array(n-1).join("  "),i=0;i<t.children.length;i++)a=document.createTextNode("\n"+r),t.insertBefore(a,t.children[i]),e(t.children[i],n),t.lastElementChild===t.children[i]&&(a=document.createTextNode("\n"+c),t.appendChild(a));return t},Le=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Se=function(){var e=Le(),t=Object(_.c)((function(e){return e})),n=[].concat(Object(W.a)(t.input.items),Object(W.a)(t.select.items),Object(W.a)(t.textarea.items)).sort((function(e,t){return e.order-t.order})).map((function(e,t){return e.order=t,e})).map((function(e){return e.html})).join("");return n?Object(a.jsx)(ge.a,{className:e.paper,children:Object(a.jsx)("pre",{children:ve("<form>".concat(n,"</form>"))})}):null},Ce=n(321),Ie=n(166),Ne=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(s.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeight:{height:240}}}));function we(){var e=Ne(),t=c.a.useState(!0),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(b.a,{}),Object(a.jsx)(O.a,{position:"absolute",className:Object(u.default)(e.appBar,r&&e.appBarShift),children:Object(a.jsxs)(p.a,{className:e.toolbar,children:[Object(a.jsx)(h.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(u.default)(e.menuButton,r&&e.menuButtonHidden),children:Object(a.jsx)(T.a,{})}),Object(a.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"HTML Form Builder"})]})}),Object(a.jsxs)(E.a,{variant:"permanent",classes:{paper:Object(u.default)(e.drawerPaper,!r&&e.drawerPaperClose)},open:r,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(h.a,{onClick:function(){i(!1)},children:Object(a.jsx)(v.a,{})})}),Object(a.jsx)(f.a,{}),Object(a.jsx)(x.a,{children:Object(a.jsx)(U,{})})]}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsx)(D.a,{maxWidth:"lg",className:e.container,children:Object(a.jsxs)(A.a,{container:!0,spacing:3,children:[Object(a.jsx)(A.a,{item:!0,xs:6,children:Object(a.jsx)(Ce.a,{backend:Ie.a,children:Object(a.jsx)(je,{})})}),Object(a.jsx)(A.a,{item:!0,xs:6,children:Object(a.jsx)(Se,{})})]})})]}),Object(a.jsx)(xe,{}),Object(a.jsx)(ye,{}),Object(a.jsx)(Te,{})]})}var Pe=n(38),Re={count:0},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.INCREASE:return Object(j.a)(Object(j.a)({},e),{},{count:e.count+1});case F.DECREASE:return Object(j.a)(Object(j.a)({},e),{},{count:e.count-1});default:return e}},ke={open:!1,items:[]},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.ADD:return Object(j.a)(Object(j.a)({},e),{},{open:!1,items:[].concat(Object(W.a)(e.items),[t.payload])});case L.CLOSE_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!1});case L.DELETE:return Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case L.OPEN_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!0});case L.SET:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload.items});default:return e}},Be={open:!1,items:[]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.ADD:return Object(j.a)(Object(j.a)({},e),{},{open:!1,items:[].concat(Object(W.a)(e.items),[t.payload])});case S.CLOSE_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!1});case S.DELETE:return Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case S.OPEN_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!0});case S.SET:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload.items});default:return e}},We={open:!1,items:[]},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.ADD:return Object(j.a)(Object(j.a)({},e),{},{open:!1,items:[].concat(Object(W.a)(e.items),[t.payload])});case C.CLOSE_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!1});case C.DELETE:return Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.order!==t.payload}))});case C.OPEN_ADD_DIALOG:return Object(j.a)(Object(j.a)({},e),{},{open:!0});case C.SET:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload.items});default:return e}},He=Object(Pe.b)({counter:Ge,input:Xe,select:Ue,textarea:Me}),qe=Object(Pe.c)(He,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(a.jsx)(_.a,{store:qe,children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(we,{})})}),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.07d43cc7.chunk.js.map